最近，建立在卷积神经网络(CNN)上的图像表示已经被证明为图像搜索提供了有效的描述符，作为短向量表示优于前CNN特征。

然而，这种模型与几何感知的重新排序方法并不兼容，并且在某些特定的对象检索基准上，仍然优于依赖于精确描述符匹配、几何重新排序或查询扩展的传统图像搜索系统。

这项工作重新访问了两个检索阶段，即初始搜索和重新排序，通过使用相同的原始信息来自CNN。

我们建立了紧凑的特征向量，它可以编码几个图像区域，而不需要向网络输入多个输入。

此外，我们扩展了积分图像来处理卷积层激活上的最大池化，允许我们有效地定位匹配的对象。

生成的边界框最终用于图像重新排序。

因此，本文显著改进了现有的基于cnn的识别管道：我们首次报告了在具有挑战性的Oxford5k和Paris6k数据集上与传统方法竞争的结果

 

# 引言

目前最先进的方法来源于Sivic和齐瑟曼（2003）的单词包模型，它们的成功主要归功于局部不变特性(Lowe，2004)和大型视觉码本(Philbinetal.，2007)。这些方法通常由一个初始过滤阶段组成，其中所有的数据库图像都根据与查询图像的相似性进行排序，以及第二个重新排序阶段，它细化了排名最高的元素的搜索结果。

过滤阶段在几个方面得到了改进，例如合并弱几何信息(J‘egou等人，2010)，使用局部描述符的紧凑近似(J’egou等人，2010)，或学习智能码本(Mikulik等人，2013；阿弗里西斯&卡兰蒂迪斯，2012)。在这种情况下，局部描述符是单独匹配和选择性匹配函数(Tolias等人，2015；Tao等人，2014)提高了搜索质量。

几何匹配模型(Philbin等人，2007；Avrithis&Tolias，2014)通常以成对的方式应用在图像短列表的重新排序阶段。

查询扩展方法显著提高了性能(Chumetal.，2011)，但代价是查询时间的增加。

卷积神经网络(CNN)和使用中间层激活作为特征向量(Donahueetal.，2013)所取得的最新进展为图像或特定对象检索的竞争表示创造了机会，而不仅仅是分类任务。已经有一些研究作品对该研究方向进行了研究，例如基于完全连接（Babenko等人，2014年；龚等人，2014年）或卷积层（Razavian等人，2014年b；阿兹普等人，2014年；巴宾科和伦皮茨基，2015年）

基于cnn的特征的性能已经迅速提高，可以竞争甚至超过聚合局部特征的前cnn作品(J‘egou等人，2012；Radenovi’c等人，2015)。特别是，激活卷积层之后进行全局最大池化操作(Azizpouretal.，2014)会产生高度具有竞争力的紧凑图像表示。一个限制是，这种方法与最终重新排序阶段中涉及的几何感知模型不兼容。

这项工作用基于cnn的特性重新访问了过滤和重新排序的阶段。我们做出了以下三项贡献。

- 首先，我们提出一个紧凑的图像表示来自卷积层激活编码多个图像区域不需要补充多个输入网络，最近Fast-RCNN（吉希克，2015）和Faster-RCNN(任etal.，2015)方法，但这里针对特定的对象检索。底层的原始表示法用于所有阶段（初始检索和重新排序）。
- 其次，我们使用generalized mean(Doll‘aretal.，2009)来实现积分图像和最大池化的使用。这种有效的方法直接在CNN激活的2D映射中用于特定的对象定位（见图1）。![image-20220713175931075](D:\文献阅读\Recent deveopments of CBIR\image\image-20220713175931075.png)
- 第三，我们的定位方法用于图像重新排序，并引导我们定义一个简单而有效的查询扩展方法。



这些方法是互补的，当结合起来时，首次产生了一个系统，它在牛津和巴黎的建筑基准上与基于本地特征的最先进的重新排序方法相竞争。我们的方法比以往基于CNN的方法表现得更好，同时在实践中效率更高。